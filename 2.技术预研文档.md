# 第1期-技术预研文档

## 1.链底层技术预研


**技术难点：链底层：黑白名单机制**


## 功能需求

关于黑白名单机制功能需求

前期

- 矿工的收益不能提取。
- 普通账户之间不能相互转账。
- 租户账户才可以创建合约 ?

后期
- 支持把以上2个开关打开。



### 1.矿工的收益不能提取

技术实现方案：
- 在系统合约中，添加“收益锁仓”功能，配合“收益提取开关”，实现控制矿工的收益提取的功能。


### 2.普通账户之间不能相互转账

技术实现方案：TODO需要研究


方案一：使用预编译合约实现

- 1.在AddressLists.sol中添加 sendWhiteList,并添加map
- 2.实现isSendWhiteList函数供ValidateTx调用
- 3.在ValidateTx中检查tx.from是否满足isSendWhiteList

伪代码
```
if tx.Value > 0 && if isSendWhiteList(tx.from) {
    return err.BandedTxSender
}
```

方案二：激活RedCoast硬分叉 

https://github.com/stars-labs/heco-chain/releases/tag/v1.1.0

RedCoast hardfork


最终的方案：方案二 + 方案一

在RedCoast硬分叉基础上，原有的AddressList.sol中的devs用来存B端账户地址，其他保持不变。再增加一个合约，专门存C端用户地址。


### 3.其他

- 直接用heco最新硬分叉和系统合约作为peculiar的初始项
- 修改硬编码配置

## 2.区块浏览器技术预研


技术实现方案：
- 1、基于blocksout，第1期我们不做太多改动
- 2、增加中文版
- 3、界面微调


## 3.SDK技术预研


技术实现方案：基于Web3j, 用Java进行封装，供内部项目使用。




